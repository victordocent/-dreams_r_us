<nav class="navbar bg-light custom-navbar">
  <div class="container-fluid">
    <%= link_to root_path, class: "right-element navbar-brand" do %>
      <%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700651209/development/logo-png_iqwkcu.png", crop: :fill) %>
      <div class="name">
        <p>Dreams R Us</p>
      </div>
    <% end %>



  <div class="search-bar-container">
    <%= form_tag(search_dreams_path, method: :get, class: "search-form") do %>
      <div class="search-input-container">
        <%= text_field_tag :q, params[:q], class: 'form-control me-2 search-bar', placeholder: 'Search', aria_label: 'Search' %>
      <div class="search-icon-container" onclick="submitSearch()">
        <%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700666823/dfbscoydpmlghxvtzvxv.svg", crop: :fill, width: 20, height: 20, class: 'cloudinary-icon') %>
      </div>
      </div>
    <% end %>
  </div>

<script>
  function submitSearch() {
    document.querySelector('.search-form').submit();
  }
</script>


    <div class="left-element">
      <div class="new_entry">
        <%= link_to "new dream", new_dream_path, class: "m-4 btn btn-light text-decoration-none dream_text_effect text-white ms-5" %>
      </div>
     <div class="nav-item dropdown">
      <a class="nav-link" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
        aria-expanded="false">
        <div class="lines">
          <%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700651990/line_22_u7gw1o.svg", crop: :fill, class: "line") %>
          <%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700651990/line_22_u7gw1o.svg", crop: :fill, class: "line") %>
          <%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700651990/line_22_u7gw1o.svg", crop: :fill, class: "line") %>
        </div>
         <div class="frame">
        <div class="overlap-group"><%= image_tag("https://res.cloudinary.com/dcvyn1qtm/image/upload/v1700651989/Frame_18_ftplpx.svg", crop: :fill) %>
        </div>
      </div>
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
        <% if user_signed_in?  %>
          <li><%= link_to "My dashboard", dashboard_path, class: "dropdown-item" %></li>
          <li><%= link_to "My profile", edit_user_registration_path, class: "dropdown-item" %></li>
          <li><%= link_to "Log out", destroy_user_session_path, data: {turbo_method: :delete}, class: "dropdown-item" %></li>
        <% else  %>
          <li><%= link_to "Log in", new_user_session_path,  class: "dropdown-item" %></li>
        <% end  %>
      </ul>
      </div>
    </div>

  </div>
</nav>



<script>
  function submitSearch() {
    document.querySelector('.search-form').submit();
  }
</script>
